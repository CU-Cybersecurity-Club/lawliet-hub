why is ipv6 necessary? the htb vpn requires ipv6
https://forum.hackthebox.eu/discussion/385/fatal-error

to enable ipv6 in the docker daemon AND in the docker container, you need to both edit the daemon config and the sysctls for docker run
https://docs.docker.com/config/daemon/ipv6/
https://docs.docker.com/v17.09/engine/userguide/networking/default_network/ipv6/#how-ipv6-works-on-docker
https://github.com/dperson/openvpn-client/issues/75

running a vpn in docker requires the NET_ADMIN cap
I think that because it is in bridge mode, there shouldn't (?) be a vuln, though this may require creating networks for every container? DONT RUN IN HOST NETWORK MODE otherwise definitely a vuln
https://www.reddit.com/r/docker/comments/bog7gy/help_with_error_cannot_open_tuntap_dev_devnettun/
https://www.reddit.com/r/docker/comments/4cw758/accessing_tuntap_device_inside_of_a_docker/

if the container doesn't have /dev/net/tun
https://github.com/haugene/docker-transmission-openvpn/issues/538
https://github.com/haugene/docker-transmission-openvpn/blob/dev/openvpn/start.sh#L8
  mkdir -p /dev/net
  mknod /dev/net/tun c 10 200
  chmod 0666 /dev/net/tun



https://stackoverflow.com/questions/20123823/how-does-docker-use-cpu-cores-from-its-host-operating-system

  To control a container's CPU usage, you can use the
  --cpu-period  and --cpu-quota options with the docker 
  create and docker run commands  from version 1.7.0 of Docker onward.

  The --cpu-quota option specifies the number of microseconds 
  that a container has access to CPU resources during a 
  period specified by --cpu-period.
  As the default value of --cpu-period is 100000, setting the 
  value of --cpu-quota to 25000 limits a container to 25% of 
  the CPU resources. By default, a container can use all available CPU resources, 
  which corresponds to a --cpu-quota value of -1.

Various resources for understanding container and Kubernetes security better -- particularly relevant considering that we're trying to give everyone unfettered access to their own container with all the pentesting tools they could want :)

    https://blog.trailofbits.com/2019/07/19/understanding-docker-container-escapes/
    https://github.com/IanColdwater/kubernetes-security-best-practice
    https://www.cyberark.com/threat-research-blog/the-route-to-root-container-escape-using-kernel-exploitation/
    https://www.cyberark.com/threat-research-blog/how-i-hacked-play-with-docker-and-remotely-ran-code-on-the-host/
